-- Definir alguns serviços
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local localPlayer = Players.LocalPlayer
local Mouse = localPlayer:GetMouse()

-- Função para tentar ofuscar o nome das funções e dificultar a detecção
local function obscufarNome(str)
    return string.reverse(str) -- Alterar as funções para dificultar
end

-- Função de segurança extra: Monitoramento e verificação
local function monitoramentoSeguranca()
    -- Monitorar a exclusão de objetos críticos
    if game:GetService("CoreGui"):FindFirstChild("RobloxGui") then
        print("Anticheat detectado!")
        return true -- Se o anticheat for detectado, aborta o script
    end
    return false
end

-- Função de bypass de anticheat avançada
local function bypassAnticheatAvancado()
    -- Tentando proteger contra detecção de variáveis e objetos
    pcall(function()
        local original = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart
        original.Anchored = false  -- Desabilitar ancoragem para evitar bloqueios do script
    end)
    
    -- Mudando de forma dinâmica o nome de algumas variáveis
    local funcObfuscada = obscufarNome("teleportarParaJogador")
    local funcMonitoramento = obscufarNome("monitoramentoSeguranca")

    -- Alterando chamadas para dificultar a detecção
    _G[funcObfuscada] = function(targetName)
        local targetPlayer = Players:FindFirstChild(targetName)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local targetPosition = targetPlayer.Character.HumanoidRootPart.Position
            localPlayer.Character:MoveTo(targetPosition)
        else
            warn("Jogador não encontrado ou inválido!")
        end
    end

    _G[funcMonitoramento] = monitoramentoSeguranca
end

-- Função para Teleportar para o Jogador
local function teleportarParaJogador(targetName)
    pcall(function()
        local targetPlayer = Players:FindFirstChild(targetName)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local targetPosition = targetPlayer.Character.HumanoidRootPart.Position
            localPlayer.Character:MoveTo(targetPosition)
        else
            warn("Jogador não encontrado ou inválido!")
        end
    end)
end

-- Função para execução do script do botão HITBOX
local function executarHitboxScript()
    pcall(function()
        loadstring(game:HttpGet("https://pastefy.app/b7rsxjzZ/raw"))()
    end)
end

-- Função de ativação do ESP
local function ativarESP()
    pcall(function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= localPlayer then
                local highlight = Instance.new("Highlight")
                highlight.Name = "ESPHighlight"
                highlight.Parent = player.Character
                highlight.FillColor = Color3.fromRGB(255, 0, 0) -- Vermelho
                highlight.OutlineColor = Color3.fromRGB(0, 0, 0) -- Preto
                highlight.FillTransparency = 0.5
                highlight.OutlineTransparency = 0
            end
        end
    end)
end

-- Função para desativar funcionalidades se a detecção for feita
local function verificarDeteccao()
    if monitoramentoSeguranca() then
        warn("Anticheat detectado! Desativando o script...")
        return true
    end
    return false
end

-- Conectando a GUI e as funções
local function configurarGui()
    -- Continuar com a configuração de UI aqui...
    -- Exemplo: Botões de Teleporte, HITBOX e ESP
    -- Certifique-se de implementar chamadas dentro de 'pcall' para evitar falhas inesperadas
end

-- Chamando a função de segurança ao iniciar
bypassAnticheatAvancado()

-- Monitorando e verificando a segurança periodicamente
while true do
    if verificarDeteccao() then
        break -- Se for detectado, o script se desconecta
    end
    wait(2) -- Verificar a cada 2 segundos
end
